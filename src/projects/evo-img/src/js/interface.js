"use strict";import Domain from"./domain.js";import{Util}from"../../node_modules/arslib/util/util.js";let originalImg,evolvedImgCanvas0,evolvedImgCanvas1,originalImgData,imgWidth,imgHeight,maxShapeWidth,maxShapeHeight,domain,running=!1;function pauseToggle(){return domain.pauseToggle(),running=!running}function getCode(){Util.download("drawing_codes.txt",JSON.stringify(domain.getCode()))}function start(){setVars(),adjustCanvasesSizes(),domain.start()}function setVars(){originalImg=document.getElementById("originalImg"),imgWidth=originalImg.width,imgHeight=originalImg.height,maxShapeWidth=Math.trunc(imgWidth*document.getElementById("maxShapeSize").value),maxShapeHeight=Math.trunc(imgHeight*document.getElementById("maxShapeSize").value),evolvedImgCanvas0=document.getElementById("evolvedImgCanvas0"),evolvedImgCanvas1=createCanvas("evolvedImgCanvas1",imgWidth,imgHeight),getImageData(),domain=new Domain(originalImgData,evolvedImgCanvas0,evolvedImgCanvas1,imgWidth,imgHeight,maxShapeWidth,maxShapeHeight)}function createCanvas(e,a,t){var i=document.createElement("canvas");return i.id=e,i.width=a,i.height=t,i}function getImageData(){var e=document.createElement("canvas"),a=e.getContext("2d");e.width=imgWidth,e.height=imgHeight,a.drawImage(originalImg,0,0),originalImgData=a.getImageData(0,0,imgWidth,imgHeight).data}function adjustCanvasesSizes(){evolvedImgCanvas0.width=evolvedImgCanvas1.width=imgWidth,evolvedImgCanvas0.height=evolvedImgCanvas1.height=imgHeight}export{start,pauseToggle,getCode};