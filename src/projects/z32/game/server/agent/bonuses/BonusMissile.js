"use strict";import BEServer from"../../../../be/server/singleton/BEServer.js";import connector from"../../../../be/server/singleton/Connector.js";import{createAgent}from"../../../../be/server/agent/Agent.js";import GameServerZ32Definitions from"../../GameServerZ32Definitions.js";import GameCommonDefinitions from"../../../common/GameCommonDefinitions.js";export default function createBonusMissile(e,n){let o=GameServerZ32Definitions,i=createAgent(GameCommonDefinitions.BONUS_MISSILE_IMAGE,o.BONUS_MISSILE_WIDTH,o.BONUS_MISSILE_HEIGHT,!1,e,n);return i?(i.isBonus=!0,i.type="missile",connector.messageToGameClient("addMinimapData",[this]),i.onOverlapping=function(e){e.changeWeaponToMissile&&(e.changeWeaponToMissile(GameCommonDefinitions.ALTERNATE_WEAPON_MAX_TIME),i.die(),connector.messageToGameClient("removeMinimapData",[i.id]),connector.playProceduralSoundInClient("BONUS_PICKUP_AUDIO_OBJECT_DESCRIPTION",i.getPosition()),BEServer.currentApp.createNewBonusMissileAtRandomPosition())},i):null};