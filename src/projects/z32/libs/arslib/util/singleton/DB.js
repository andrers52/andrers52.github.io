"use strict";export default function FileStore(){window.indexedDB||(window.indexedDB=window.webkitIndexedDB||window.mozIndexedDB||window.OIndexedDB||window.msIndexedDB),window.IDBTransaction=window.IDBTransaction||window.webkitIDBTransaction||window.OIDBTransaction||window.msIDBTransaction,window.IDBKeyRange=window.IDBKeyRange||window.webkitIDBKeyRange||window.msIDBKeyRange;this.isAvailable=function(){return!!window.indexedDB};var n=indexedDB.open("mimiFiles",1);let e;n.onerror=function(n){console.log("error: "+n)},n.onsuccess=function(){e=n.result,console.log("success: "+e)};n.onupgradeneeded=function(n){var e;e=n.target.result,console.log("Creating objectStore"),e.createObjectStore("mimi")},this.putFile=function(n,o,i,t){var r=e.transaction(["mimi"],window.IDBTransaction.WRITE);r.onsuccess=i,r.onerror=t,r.objectStore("mimi").put(o,n)},this.getFile=function(n,o,i){var t=e.transaction(["mimi"],window.IDBTransaction.READ);t.onsuccess=(n=>{o(n.target.result)}),t.onerror=i,t.objectStore("mimi").get(n)}};