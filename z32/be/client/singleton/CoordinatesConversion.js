"use strict";import EObject from"../../../libs/arslib/enhancements/e-object.js";import Vector from"../../common/geometry/Vector.js";import Rectangle from"../../common/geometry/Rectangle.js";import screen from"./Screen.js";function CoordinatesConversion(){let e;this.start=function(t){e=t},this.canvasToWorld=function(t){let o=t.clone(),n=e.rectangle,r=screen.getSize(),c=n.size;return o.x-=r.x/2,o.y-=r.y/2,o.y*=-1,(o=o.convert(r,c)).x+=n.center.x,o.y+=n.center.y,o},this.rectangleCanvasToWorld=function(e){return Rectangle.makeFromCorners(this.canvasToWorld(e.bottomLeft()),this.canvasToWorld(e.topRight()))},this.sizeFromWorldToCanvas=function(t){let o=e.rectangle,n=t,r=screen.getSize(),c=o.size;return n=n.convert(c,r)},this.worldToCanvas=function(t,o=!1){let n=e.rectangle,r=t;o||(r.x-=n.center.x,r.y-=n.center.y);let c=screen.getSize(),s=n.size;return(r=r.convert(s,c)).y*=-1,r.x+=c.x/2,r.y+=c.y/2,r},this.rectangleWorldToCanvas=function(e,t=!1){EObject.extend(e,Rectangle.prototype),EObject.extend(e.center,Vector.prototype),EObject.extend(e.size,Vector.prototype);let o=e.clone();return o.center=this.worldToCanvas(o.center),o}}let coordinatesConversion=new CoordinatesConversion;export default coordinatesConversion;